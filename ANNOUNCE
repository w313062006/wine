The Wine maintenance release 6.0.2 is now available.

What's new in this release (see below for details):
  - Compilation fixes (freetype, gcc 11)
  - Default to building with GnuTLS support on macOS, if present
  - Various bug fixes

The source is available from the following locations:

  https://dl.winehq.org/wine/source/6.0/wine-6.0.2.tar.xz
  http://mirrors.ibiblio.org/wine/source/6.0/wine-6.0.2.tar.xz

Binary packages for various distributions will be available from:

  https://www.winehq.org/download

You will find documentation on https://www.winehq.org/documentation

You can also get the current source directly from the git
repository. Check https://www.winehq.org/git for details.

Wine is available thanks to the work of many people. See the file
AUTHORS in the distribution for the complete list.

----------------------------------------------------------------

Bugs fixed in 6.0.2 (total 51):

  12076  Multiple applications refuse to install unless '%SystemRoot%\System32\Drivers\Etc\{services,host}' exist (Informix Database apps, Autodesk 3ds Max 9, SAP GUI)
  12457  Multiple apps crash with NotImplementedException at IWebBrowser2.get_LocationName() (SharpDevelop 2.2, Clarion Enterprise Edition 9.0.10376)
  19756  Date/time picker doesn't notify app about checkbox changes (TaskCoach: Cannot add new task with a due date)
  24893  File/folder context menus have missing options (Explorer++, Double Commander)
  29903  Multiple games and applications fail to enumerate processes due to 'wtsapi32.WTSEnumerateProcessesW' stub (Visual Studio 2005, .NET 2.0 SDK DbgCLR, Akamai DL Manager, Dekaron)
  32749  Implement atl100.dll.AtlAxDialogBoxW to show error dialogs (Visual Studio 2010 (10.0) Express Edition)
  35539  Proteus 8 demo fails to install
  36010  Changing font resolution on winecfg changes default main font to Tahoma
  39841  IShellFolder.CreateViewObject() doesn't support IID_IContextMenu (Double Commander "Error: invalid parameter" when right-clicking on an empty space)
  44813  Some applications fail when calling ntdll.NtReadFile on a directory (expect STATUS_INVALID_DEVICE_REQUEST)
  46817  Steam Big Picture needs d3d11_device_CreateDeviceContextState
  47296  Google drive crashes before login
  47310  Canon TS3100 series full driver and software package refuses to install: "To install the software, you must be logged in to an administrator account."
  48123  Word 97 crashes after calling stub URLMoniker_ComposeWith
  48412  Multiple games have lighting issue and textures blinking (Call of Duty 4: Modern Warfare, Call of Duty: Modern Warfare 2)
  48507  osu! icons in the setting and music player are not being rendered
  49434  Wine builtin 'iexplore' crashes upon loading Google Account login page
  49663  Performance regression in TrackMania Nations Forever
  49954  Multiple games and applications need msvcp140_1._Aligned_get_default_resource (EVE Online Launcher, QT Creator 3.x, Kate, Snap Camera 1.11.x, Cppcheck 2.3)
  50119  Dark Souls II: Scholar of the First Sin shows a white screen with vulkan renderer
  50147  Microsoft WebView2 "evergreen bootstrapper"/installer needs IStream::CopyTo()
  50168  Error when running notepad.exe: Failed to start RpcSs service
  50318  'HKLM\System\CurrentControlSet\Services\Tcpip\Parameters\DataBasePath' registry entry has non-standard value
  50362  Fl Studio 20.8 crashes on startup
  50436  Upstream FAudio pkg-config file not found
  50492  Amazon Chime 4.x (.NET 4.5 app) reports 'Failed to InjectErrorHandlingScript, Unable to cast COM object of type 'System.__ComObject' to interface type 'mshtml.HTMLHeadElement''
  50628  Fairy Tale About Father Frost, Ivan and Nastya crashes on DDERR_SURFACE_LOST
  50673  FlatOut 2 crashes on launch
  50697  Multiple applications crash due to DHTMLEdit 'IOleObject::GetExtent' stub (Atomic Mail Sender 4.2x)
  50725  Nvidia FrameView 1.2 (Win10 app) crashes on unimplemented function tdh.dll.TdhLoadManifestFromBinary
  50756  "Path is invalid." when using "SVN update" with SVN for Windows, which is used by TortoiseSVN
  50791  NtQueryObject( ..., ObjectBasicInformation, NULL, 0, &retLen) returns incorrect NTSTATUS error code and no buffer size (EditSection, Google sandbox-attacksurface-analysis-tools v1.1.x)
  50805  Win32_OperatingSystem class is missing 'ProductType' (affects Chocolatey)
  50809  Multiple .NET 4.x application installers fail due to 'MsiNetAssemblySupport' property returning incorrect version (IronPython 2.7.5)
  50811  gdi32.res fails to compile when freetype pkg-config cflags contain "-pthread"
  50818  Mahou Shoujo Shoumou Sensen - DeadΩAegis (Trial) shows unreadable text in the message box.
  50829  Process Hacker 2.38 crashes on unimplemented function dbghelp.dll.SymFromNameW
  50830  Process Hacker 2.38 crashes on unimplemented function advapi32.dll.LsaEnumerateAccounts
  50845  jscript crashes on internal assert(0) in PE build with clang
  50854  Multiple Windows 10 application installers refuse to install, requiring 'advapi32.dll' version >= 6.3.10000.0 (Elgato Stream Deck 4.9.3, Windows Admin Center 2103)
  50875  HTMLElement_get_offsetParent crashes wine if a NULL offset parent is expected (VbsEdit)
  50885  PdfSharp creates invalid PDF files
  50925  Error fetching public key in GetRSAKeyFromCert - File not found
  50952  Legends of Runeterra crashes at launch
  50960  NETCoreCheck from .NET Deployment Tools crashes on unimplemented function api-ms-win-crt-stdio-l1-1-0.dll.__stdio_common_vfwprintf_p
  51035  Alacritty v0.7.2 portable crashes: SetEnvironmentVariable  ("some_non-existant_var", NULL) should return TRUE
  51041  Scalable fonts with fsCsb[0] == 0 are not enumerated correctly
  51076  demangle_datatype in ucrtbase crash in vc2019 x86 mode
  51117  Silverlight_x64.exe (part of LEGO MINDSTORMS EV3 Home Edition installer) crashes
  51324  Imperium Great Battles of Rome can't play videos
  51631  winhttp:winhttp and winhttp:notification fail because echo.websocket.org is out of commission

----------------------------------------------------------------

Changes since 6.0.1:

Akihiro Sagawa (2):
      gdi32: Move otmEMSquare initialization to freetype_load_font.
      gdi32: Fix text metrics used in EnumFonts families.

Alexandre Julliard (7):
      makefiles: Only allow includes and defines in pkg-config flags.
      configure: Fix package name for FAudio.
      ws2_32: Install network database files.
      wine.inf: Fix the Tcpip database path.
      explorer: Store the graphics driver basename instead of the full path.
      gdi32/tests: Regenerate ttf files with the official fontforge version.
      gdiplus/tests: Regenerate ttf files with the official fontforge version.

Alistair Leslie-Hughes (1):
      gdi32: Don't override FontSubstitutes on a DPI only change.

Andrew Eikum (1):
      windowscodecs: Avoid types deprecated in libtiff 4.3.

Andrey Turkin (1):
      ieframe: Implement IWebBrowser2::get_LocationName().

Anton Baskanov (4):
      amstream/tests: Add a test for event parameter of IDirectDrawStreamSample::Update.
      amstream: Support the event parameter in IDirectDrawStreamSample::Update.
      fonts: Fix breve glyph position in 16px MS Sans Serif.
      fonts: Fix dotaccent glyph position in Small Fonts.

Arkadiusz Hiler (3):
      msvcp90: Add helpers for creating base class RTTI.
      msvcp140_1: Implement the DLL.
      kernelbase: Fix GetFileVersionInfo*() crashes with malformed resources.

Austin English (2):
      tdh: Add TdhLoadManifestFromBinary stub.
      readme: Document Libera Chat migration.

Brendan Shanks (2):
      wined3d: Add GPU information for Intel UHD Graphics 630.
      configure: Work around Xcode 12's ld assuming 16KB page sizes.

Damjan Jovanovic (6):
      comctl32: Send DTN_DATETIMECHANGE when the checkbox changes too.
      shell32: The menu wIDs in hmenu were rebased by idCmdFirst.
      shell32: Use a smaller range of shellview menu IDs in our IContextMenu functions.
      shell32: Implement IID_IContextMenu in CreateViewObject() methods for shell folders that support it.
      shell32/tests: Fix test failures from ad412b11a7ea17b708994ed6609f8ed0cbfb169b.
      shell32: Fix a lock leak.

David Torok (1):
      ntdll: Add NtCreateThread stub.

David White (1):
      urlmon: Implement IMoniker_ComposeWith() for url monikers.

Dmitry Kislyuk (1):
      mshtml: Fix NULL offset parent handling in IHTMLElement::get_offsetParent.

Dmitry Timoshkov (3):
      crypt32: Implement CryptImportPublicKeyInfoEx2.
      crypt32: Add support for importing RSA public keys with BCrypt.
      ntdll: Exclude large integer APIs from relay tracing.

Esme Povirk (1):
      gdiplus: Implement reference counting for private font families.

François Gouget (3):
      tests: Trace the filename in winetest_wait_child_process().
      tests: Add ignore_exceptions().
      make_unicode: Add support for the 720 codepage (Arabic, Farsi and Urdu).

Gijs Vermeulen (11):
      wtsapi32: Avoid calling GetUserNameW() twice in WTSQuerySessionInformationW(WTSUserName).
      wtsapi32/tests: Test returned username for WTSQuerySessionInformation(WTSUserName).
      kernelbase: Reject SORT_DIGITSASNUMBERS in CompareStringA().
      kernelbase: Support FileRenameInfo in SetFileInformationByHandle.
      ntdll: Return STATUS_INFO_LENGTH_MISMATCH when len is too small in NtQueryObject(ObjectBasicInformation).
      dbghelp: Implement SymFromNameW().
      ntdll/tests: Refactor RtlSetEnvironmentVariable() tests.
      ntdll: Don't fail when trying to remove the value of a non-existant variable in RtlSetEnvironmentVariable().
      amstream: Handle AMMSF_RENDERALLSTREAMS in IAMMultiMediaStream::OpenFile().
      winecfg: Disable virtual desktop when using macdrv.
      secur32: Default to building with GnuTLS support on macOS, if present.

Haidong Yu (2):
      shell32: Fix a memory leak.
      shell32: Fix a memory leak.

Hans Leidekker (3):
      ntdll: Fall back to reading /dev/urandom if getrandom() is not supported.
      msi: Fix building the fusion filename.
      winhttp: Use ws.ifelse.io for websocket tests.

Haoyang Chen (2):
      gdiplus: Avoid filtering of special characters.
      gdi32: Fix a memory leak.

Jacek Caban (3):
      mshtml: Support DispHTMLHeadElement interface.
      jscript: Use quiet NaNs in jsval.
      msvcrt: Add sincos to importlib.

Jan Sikorski (1):
      wined3d: Handle different slice pitches in uncompressed texture updates.

John Zourlios (1):
      kernelbase: Accept LINGUISTIC_IGNOREDIACRITIC & SORT_DIGITSASNUMBERS in CompareStringEx().

Lauri Kenttä (1):
      msvcrt: Handle negative zero, infinity and nan in _ecvt and others.

Louis Lenders (5):
      wtsapi32: Implement WTSQuerySessionInformation(WTSDomainName).
      wbemprox: Add ProductType to win32_operatingsystem class.
      advapi32: Update version resource.
      advapi32: Add stub for LsaEnumerateAccounts.
      kernel32: Remove entry for BasepDebugDump.

Matteo Bruni (2):
      wined3d: Handle blits to Vulkan swapchains not matching the D3D swapchain.
      wined3d: Don't skip FFP vertex pipeline state handlers when STATE_VDECL is dirty.

Michele Dionisio (1):
      msvcrt: Add __stdio_common_vfprintf_p and __stdio_common_vfwprintf_p.

Nguyễn Chính Hữu (1):
      wined3d: Add GPU information for NVIDIA GT 1030.

Nikolay Sivov (2):
      gdi32: Enumerate scalable fonts with zero charset mask as OEM.
      shcore/stream: Implement generic CopyTo().

Owen Rudge (1):
      winspool: Filter invalid characters when creating the PPD filename.

Paul Gofman (2):
      ddraw/tests: Also test RT caps for software device.
      vcruntime140_1: Support two continuation addresses for catchblock.

Piotr Caban (7):
      msvcp90: Add macro that define type_info vtable.
      msvcrt: Cleanup _ecvt tests.
      msvcrt/tests: Link to malloc/free functions in cpp tests.
      msvcrt/tests: Cleanup datatype demangle tests.
      msvcrt: Fix _unDName crash when demangling class function pointer.
      msvcrt: Improve memmove performance on i386 and x86_64 architectures.
      winemac.drv: Don't filter non active displays out.

Qian Hong (1):
      atl: Implement AtlAxDialogBox().

Roman Pišl (2):
      kernel32/tests: Add test for FileRenameInfo in SetFileInformationByHandle.
      kernelbase: Convert DOS to NT path for FileRenameInfo in SetFileInformationByHandle.

Rémi Bernon (3):
      d3d11: Add initial implementation of CreateDeviceContextState.
      dinput: Wait for the hook thread to exit when stopping it.
      dinput: Prevent a device interface leak when enumerating.

Sebastian Lackner (1):
      ntdll: Return STATUS_INVALID_DEVICE_REQUEST when trying to call NtReadFile on directory.

Torge Matthies (1):
      winex11.drv: Avoid race condition in X11 error handling.

Vijay Kiran Kamuju (3):
      dhtmled.ocx: Implement IOleObject::SetExtent and IOleObject::GetExtent functions.
      dhtmled.ocx: Add stub IOleControl interface.
      dhtmled.ocx: Fake success in IDHTMLEdit::NewDocument.

Zebediah Figura (5):
      msi: Check for a NULL return from deformat_string() when checking for failure.
      include: Factor out winetest_printf().
      include: Introduce winetest_push_context() and winetest_pop_context().
      wtsapi32: Implement WTSEnumerateProcessesW().
      wine.inf: Install the protocol database at etc\protocol.

Zhiyi Zhang (1):
      ntoskrnl.exe: Exclude large integer APIs from relay tracing.

--
Michael Stefaniuc
mstefani@winehq.org
